<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë§›ì§‘ ëª©ë¡</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 900px; margin: auto; }
        .restaurant-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-decoration: none;
            color: black;
        }
        .rating { margin-top: 8px; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ½ ë§›ì§‘ ëª©ë¡</h1>

    {% if session.user_id %}
    <p>í™˜ì˜í•©ë‹ˆë‹¤! <a href="{{ url_for('main.logout') }}">ë¡œê·¸ì•„ì›ƒ</a></p>
    {% else %}
    <a href="{{ url_for('main.login') }}">ë¡œê·¸ì¸</a> | <a href="{{ url_for('main.register') }}">íšŒì›ê°€ì…</a>
    {% endif %}

    {% if restaurants %}
    <div class="restaurant-list">
        {% for r in restaurants %}
        <a href="{{ url_for('main.restaurant_detail', restaurant_id=r.id) }}" class="card">
            <h3>{{ r.name }}</h3>
            <p>{{ r.address }}</p>
            <p>{{ r.phone }}</p>
            <p>{{ r.category }}</p>

            {% if r.average_rating %}
                <p class="rating">â­ {{ r.average_rating }}</p>
            {% else %}
                <p class="rating">â­ ë¦¬ë·° ì—†ìŒ</p>
            {% endif %}
        </a>
        {% endfor %}
    </div>
    {% else %}
        <p>ë“±ë¡ëœ ë§›ì§‘ì´ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
</div>

</body>
</html>